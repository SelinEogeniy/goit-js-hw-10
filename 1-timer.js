import"./assets/modulepreload-polyfill-B5Qt9EMX.js";import{f as u,i as c}from"./assets/vendor-BbbuE1sJ.js";const h={input:document.querySelector("#datetime-picker"),startBtn:document.querySelector("[data-start]"),days:document.querySelector("[data-days]"),hours:document.querySelector("[data-hours]"),minutes:document.querySelector("[data-minutes]"),seconds:document.querySelector("[data-seconds]")},l={deadline:null,intervalId:null,isActive:!1,refs:h,init(){this.refs.startBtn.disabled=!0,u(this.refs.input,{enableTime:!0,time_24hr:!0,defaultDate:new Date,minuteIncrement:1,onClose:t=>{const e=t[0];e<=new Date?(this.refs.startBtn.disabled=!0,c.error({title:"Помилка",message:"Please choose a date in the future"})):(this.deadline=e,this.refs.startBtn.disabled=!1)}}),this.refs.startBtn.addEventListener("click",()=>this.start())},start(){this.isActive||!this.deadline||(this.isActive=!0,this.refs.startBtn.disabled=!0,this.refs.input.disabled=!0,this.intervalId=setInterval(()=>{const t=this.deadline-Date.now();if(t<=0){this.stop(),this.updateInterface(0,0,0,0),this.refs.input.disabled=!1;return}const{days:e,hours:s,minutes:i,seconds:n}=this.getTimeComponents(t);this.updateInterface(e,s,i,n)},1e3))},stop(){clearInterval(this.intervalId),this.isActive=!1},getTimeComponents(t){const r=Math.floor(t/864e5),a=Math.floor(t%864e5/36e5),o=Math.floor(t%36e5/6e4),d=Math.floor(t%6e4/1e3);return{days:r,hours:a,minutes:o,seconds:d}},updateInterface(t,e,s,i){this.refs.days.textContent=this.pad(t),this.refs.hours.textContent=this.pad(e),this.refs.minutes.textContent=this.pad(s),this.refs.seconds.textContent=this.pad(i)},pad(t){return String(t).padStart(2,"0")}};l.init();
//# sourceMappingURL=1-timer.js.map
